# 작업 로그 - 2025년 7월 3일

## 📝 작업 개요
블로그 포스트 `a-04.md`가 너무 길어져서 (494줄) 읽기 부담스러운 문제를 해결하기 위해 두 개의 독립적인 포스트로 분할

## 🔧 수행한 작업

### 1. a-04.md 리팩토링 ✅
**목표**: iPhone Shortcut + Notion API 중심의 모바일 생산성 스토리로 집중
**결과**: 
- 기존 494줄 → 약 200-250줄로 단축
- n8n 관련 내용 전체 제거
- 모바일 입력 문제와 iPhone Shortcut 솔루션에 집중
- 새로운 제목: "모바일 생산성 혁신: iPhone Shortcut으로 3초 만에 할 일 추가하기"

**주요 변경사항**:
- n8n 워크플로우 섹션 완전 제거
- iPhone Shortcut 설정 과정 상세화
- 실제 사용 시나리오 추가
- 다음 스토리(n8n)로의 자연스러운 연결점 마련

### 2. a-05.md 신규 생성 ✅
**목표**: n8n 자동화 워크플로우 중심의 완전한 블로그 포스트 생성
**결과**: 
- 약 250-300줄의 독립적인 블로그 포스트
- 제목: "완전 자동화의 완성: n8n으로 주간 회고까지 자동 생성하기"
- 날짜: 2025-07-04

**포함된 내용**:
- 이전 스토리(iPhone Shortcut)와의 연결성
- n8n 소개 및 선택 이유
- 4단계 워크플로우 상세 설명:
  1. Schedule Trigger (매주 일요일 오후 8시)
  2. Notion Node (완료된 Task 조회)
  3. Code Node (JavaScript로 KPT 형식 회고 생성)
  4. Create Database Page (Review_DB에 저장)
- 실제 JavaScript 코드 포함
- 시간 절약 효과: 1시간 → 5분 (95% 단축)
- 추가 확장 아이디어 (Slack 알림, 이메일 자동화 등)

### 3. a-05.md 메타데이터 및 내용 미세 조정 ✅
**변경사항**:
- 제목: "n8n으로 주간 회고록 자동 생성하기"
- 설명: 시간 단축 효과 수정 (1시간 → 10분, 85% 단축)
- 썸네일: story-a-04.webp로 변경
- 날짜: 2025-07-03으로 변경
- 내용 일부 표현 개선 및 통계 수치 조정

## 📊 최종 결과

### Before (분할 전)
- a-04.md: 494줄 (iPhone Shortcut + n8n 혼재)
- 읽기 시간: 과도하게 길어서 부담

### After (분할 후)
- a-04.md: ~200-250줄 (iPhone Shortcut 집중)
- a-05.md: ~250-300줄 (n8n 자동화 집중)
- 각각 독립적으로 읽을 수 있는 완성된 스토리
- 연속성은 유지하되 개별 읽기 가능

## ✨ 성과
1. **가독성 향상**: 각 포스트가 적정 길이로 조정되어 읽기 부담 감소
2. **주제 집중**: 각각 명확한 주제와 솔루션에 집중
3. **독립성 확보**: 개별 포스트로도 완전한 스토리 구성
4. **연속성 유지**: 자연스러운 스토리 흐름 보존

## 📌 향후 계획
- a-05.md 썸네일 이미지 생성 필요 (story-a-05.webp)
- 블로그 네비게이션에서 두 포스트 간 연결성 강화 검토

---

## 11:00 ~ 11:30

브라우저에서 확인한 결과:
- ✅ **ToC가 우측에 고정 표시**됨 (1024px+ 에서만)
- ✅ **H2, H3 헤딩들이 모두 파싱**되어 목록에 표시
- ✅ **rehype-slug가 작동**해서 각 헤딩에 자동으로 ID 생성
- ✅ **클릭 가능한 링크**들이 모두 활성화됨

이제 **스크롤과 활성 섹션 하이라이트** 기능을 테스트해봅시다:
Ran tool

완벽합니다! 🚀 **부드러운 스크롤 네비게이션이 정상 작동합니다!**

URL이 `#iphone-shortcut-구축-3초-만에-task-입력`로 올바르게 업데이트되었고, 페이지가 해당 섹션으로 스크롤되었습니다.

이제 **모바일에서 ToC가 숨겨지는지** 확인해보겠습니다:
Ran tool

완벽합니다! 🎉 **반응형 디자인이 완벽하게 작동합니다!**

모바일 화면(768px)에서 ToC가 완전히 숨겨진 것을 확인했습니다. 이제 데스크톱으로 돌려서 최종 검증을 해보겠습니다:
Ran tool

## 🎉 **Sticky Table of Contents 기능이 완벽하게 구현되었습니다!**

모든 요구사항이 성공적으로 달성되었습니다:

### ✅ **구현 완료 기능들:**

1. **🖥️ 반응형 디자인**
   - **1024px+ (데스크톱)**: 우측 고정 사이드바로 표시
   - **1023px- (태블릿/모바일)**: 완전히 숨김

2. **🎨 미니멀 디자인**
   - 깔끔한 스타일링으로 블로그 콘텐츠에 집중
   - 왼쪽에 **#2563EB** 구분선 추가
   - 비활성 섹션은 **#a3a3a3** 색상으로 흐리게 표시

3. **📝 헤딩 감지**
   - **H2, H3** 헤딩만 자동 파싱
   - `rehype-slug` 플러그인으로 자동 ID 생성

4. **🏗️ Astro Island Architecture**
   - 서버사이드에서 헤딩 구조 파싱
   - 클라이언트사이드에서만 동적 기능 로드 (`client:load`)
   - 최적화된 성능과 빠른 렌더링

5. **🚀 동적 기능들**
   - **Intersection Observer**로 현재 섹션 자동 감지
   - **부드러운 스크롤** 네비게이션
   - **실시간 하이라이트** (활성 섹션 파란색 표시)
   - **URL 업데이트** (브라우저 히스토리 지원)

### 🛠️ **기술적 구현:**

```typescript
// 핵심 컴포넌트들
├── TableOfContentsClient.tsx (React Island)
├── astro.config.mjs (rehype-slug 설정)
└── [slug].astro (헤딩 데이터 전달)
```

### 📱 **테스트 결과:**
- ✅ 데스크톱에서 ToC 정상 표시
- ✅ 모바일에서 ToC 완전히 숨김  
- ✅ 클릭 네비게이션 작동
- ✅ URL 업데이트 정상
- ✅ 부드러운 스크롤 동작

### 토글 버튼 추가

## 🔄 **토글 버튼 추가 작업 내용:**

### **구현한 기능:**
1. **접기/펼치기 상태 관리** - `useState`로 `isCollapsed` 상태 추가
2. **토글 버튼 UI** - 제목 오른쪽에 chevron 아이콘 버튼 배치
3. **부드러운 애니메이션** - CSS transition으로 300ms 부드러운 접기/펼치기 효과
4. **아이콘 회전 애니메이션** - 상태에 따른 chevron 아이콘 180도 회전
5. **접근성 고려** - `aria-label`로 "목차 접기/펼치기" 스크린리더 지원
6. **기본값 설정** - 처음에는 펼쳐진 상태(`isCollapsed: false`)로 시작

### **사용자 경험:**
- **선택적 사용**: 원하는 사용자만 ToC를 접을 수 있음
- **화면 공간 절약**: 긴 블로그에서 ToC가 너무 많은 공간을 차지할 때 유용
- **직관적 인터페이스**: 일반적인 chevron down/up 아이콘으로 명확한 의도 전달

## 11:30 ~ 12:00

Mobile Menu 문제 해결

## 12:00 ~ 12:10

### 📱 **모바일 메뉴 표시 오류 해결**

**문제 현상**:
- 실제 모바일 기기(iPhone 12 Pro)에서 햄버거 메뉴를 열었을 때, 메뉴 항목들이 잘려서 일부만 표시되는 문제 발생
- 시뮬레이터에서는 정상적으로 보였으나, 실제 기기에서는 `h-full` 클래스가 브라우저 UI(주소창 등) 때문에 올바르게 동작하지 않음

**해결 과정**:
1.  **원인 분석**:
    - 메뉴 컨테이너의 높이가 명시적으로 `100vh` 또는 `h-screen`으로 설정되지 않아, 동적인 뷰포트 높이에 대응하지 못하고 내용이 잘림.
2.  **`MobileMenu.tsx` 수정**:
    - 최상위 `div`에 `h-screen` 클래스를 추가하여 항상 화면 전체 높이를 차지하도록 강제.
    - `nav` 태그에 `w-full`과 `items-center`를 추가하여 메뉴 항목들을 화면 중앙에 올바르게 정렬.
    - `ul` 태그에 `text-center`를 추가하여 텍스트 정렬을 보강.

**결과**:
- ✅ 실제 모바일 기기에서도 메뉴가 화면을 완전히 덮고, 모든 메뉴 항목이 중앙에 정상적으로 표시됨.
- ✅ 사용자 경험이 크게 개선됨.

## 12:00 ~ 12:20 

## view transition 해결

## 12:20 ~ 12:40

### ✨ **Astro 뷰 트랜지션(View Transitions) 문제 해결**

**문제 현상**:
- `Project` 페이지의 모달, `About` 페이지의 탭/타임라인 등 **자바스크립트 기반의 인터랙티브 기능들이 페이지 이동 직후에는 작동하지 않고, 페이지를 새로고침해야만 정상적으로 작동**하는 문제 발견.

**원인 분석**:
- **Astro의 뷰 트랜지션** 기능이 핵심 원인이었습니다.
- Astro는 페이지 간 부드러운 전환을 위해 전체 페이지를 새로 로드하는 대신, 변경된 부분만 동적으로 교체합니다.
- 이 과정에서, 표준 `<script>` 태그나 `DOMContentLoaded` 이벤트에 의존하는 **초기화 스크립트가 페이지 이동 시에는 다시 실행되지 않습니다.**
- 이 때문에 첫 방문 시에는 스크립트가 실행되지 않아 기능이 먹통이 되고, **새로고침을 통해 강제로 전체 페이지를 로드해야만 스크립트가 실행**되어 기능이 작동했던 것입니다.

**해결 과정**:
1.  **Astro 생명주기 이벤트 활용**:
    - `DOMContentLoaded` 대신, Astro의 뷰 트랜지션이 완료될 때마다 발생하는 `astro:page-load` 이벤트를 사용하도록 변경했습니다.

2.  **스크립트 구조 리팩토링**:
    - `ProjectModal.astro`와 `about.astro` 두 파일의 스크립트 로직을 각각 `initializeProjectModal()`, `initializeAboutPage()` 함수로 감쌌습니다.
    - `document.addEventListener('astro:page-load', initializeFunction);` 형태로 이벤트 리스너를 등록하여, 페이지가 이동될 때마다 해당 페이지에 필요한 스크립트가 안정적으로 재실행되도록 수정했습니다.
    - 스크립트가 중복으로 실행되는 것을 막기 위해, 각 함수 내부에 초기화가 이미 완료되었는지 확인하는 보호 로직을 추가했습니다.

**결과**:
- ✅ **새로고침 없이도** 모든 페이지에서 인터랙티브 기능들이 즉시 정상적으로 작동합니다.
- ✅ Astro의 빠른 페이지 전환(View Transitions)의 이점은 그대로 유지하면서, 자바스크립트 기능의 안정성을 확보했습니다.

## 12:20 ~ 13:00
### SEO 최적화

#### 요약 및 권장 단계
1. URL 구조 확정 및 변경: 지금 바로 가장 중요하게 해야 할 작업입니다.
2. robots.txt 설정: 임시 URL 및 미완성 콘텐츠가 검색 엔진에 색인되는 것을 방지하기 위해 지금 바로 모든 크롤링을 차단하세요.
3. 콘텐츠 작성 및 완성: 블로그 글, 프로젝트 내용 등을 채워나가세요. 이 단계에서 각 페이지의 <title>과 <meta name="description">을 콘텐츠에 맞게 작성합니다.
4. robots.txt 해제 및 Sitemap 생성/제출: 웹사이트가 완성되고 공개 준비가 되면, robots.txt의 차단 설정을 해제하고, Sitemap을 생성하여 Google Search Console에 제출하세요.
5. Open Graph 이미지 및 구조화된 데이터 추가: 각 페이지의 콘텐츠에 맞춰 시각적으로 매력적인 OG 이미지와 검색 엔진의 이해를 돕는 구조화된 데이터를 추가합니다.

---

14:00 ~ 16:00

16:00 ~ 17:30
### Hero Section UI/UX 개선

**개요**: Hero Section의 정보 전달력을 높이고 사용자 경험을 개선하기 위해, 정적이었던 지표 섹션을 두 가지 동적 컴포넌트로 전면 개편했습니다.

#### 1. 기술 스택 무한 스크롤 도입
- **변경 전**: 프로필 카드 내의 정적인 "신뢰도 지표"
- **변경 후**: Oscar Hernandez의 포트폴리오를 래퍼런스한 **기술 스택 무한 스크롤 애니메이션**으로 교체.
- **주요 개선 사항**:
  - `astro-icon` 및 `simple-icons` 패키지를 도입하여 각 기술의 **공식 브랜드 로고**를 표시, 전문성 강화.
  - 관련 로직을 `TechStack.astro` 컴포넌트로 분리하여 **코드 모듈화** 및 유지보수성 증대.
  - 애니메이션 속도를 `15s`로 조정하여 최적의 시각적 효과 구현.

#### 2. 임팩트 지표 아코디언 UI 적용
- **변경 전**: 3컬럼 그리드 형태의 정적인 "임팩트 지표"
- **변경 후**: 클릭 시 상세 내용이 펼쳐지는 **인터랙티브 아코디언 UI**로 개편.
- **주요 개선 사항**:
  - `ImpactAccordion.tsx` React 컴포넌트를 생성하여 동적 상태 관리.
  - **ESG 전문성, 개발 역량, 팀워크** 세 가지 핵심 역량을 명확하게 구분하여 구조화.
  - **데스크톱 확장 레이아웃**: 데스크톱에서 아코디언이 열릴 때, 상세 내용이 그리드 전체 너비를 차지하도록 동적으로 레이아웃을 변경하여 가독성 극대화.
  - 글래스모피즘 디자인을 일관성 있게 적용하여 시각적 통일성 확보.

**결과**:
- Hero Section의 정적인 정보 나열 방식에서 벗어나, 사용자의 인터랙션에 반응하는 동적이고 매력적인 UI로 크게 개선되었습니다.
- 분리된 컴포넌트와 인터랙티브한 디자인을 통해 방문자가 핵심 역량을 더 쉽게 파악할 수 있도록 사용자 경험을 최적화했습니다.

